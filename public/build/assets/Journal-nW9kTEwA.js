import{l as i,m as w,f as r,o as c,b as e,i as p,p as v,t as n,d as g,F as y,k,q as d}from"./app-BIhySpYg.js";const E={class:"p-6 max-w-3xl mx-auto"},j={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},C={class:"font-bold text-xl"},U={class:"text-sm text-gray-600"},V={class:"mt-2"},$={class:"mt-2 space-x-2"},B=["onClick"],D=["onClick"],J={__name:"Journal",setup(F){const m=i([]),s=i({title:"",content:"",date:""}),o=i(null),u=async()=>{const l=await d.get("/api/journals");m.value=l.data},b=async()=>{o.value?await d.put(`/api/journals/${o.value}`,s.value):await d.post("/api/journals",s.value),f(),u()},x=l=>{s.value={...l},o.value=l.id},_=async l=>{await d.delete(`/api/journals/${l}`),u()},f=()=>{s.value={title:"",content:"",date:""},o.value=null};return w(u),(l,a)=>(c(),r("div",E,[a[3]||(a[3]=e("h1",{class:"text-2xl font-bold mb-4"},"Reflective Journal",-1)),e("form",{onSubmit:g(b,["prevent"]),class:"space-y-4 bg-white p-4 rounded shadow"},[p(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.title=t),type:"text",placeholder:"Title",class:"w-full border p-2 rounded"},null,512),[[v,s.value.title]]),p(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.content=t),placeholder:"Write your thoughts...",class:"w-full border p-2 rounded"},null,512),[[v,s.value.content]]),p(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.date=t),type:"date",class:"border p-2 rounded"},null,512),[[v,s.value.date]]),e("button",j,n(o.value?"Update":"Add")+" Entry ",1)],32),(c(!0),r(y,null,k(m.value,t=>(c(),r("div",{key:t.id,class:"mt-6 p-4 border rounded bg-gray-50 shadow"},[e("h2",C,n(t.title),1),e("p",U,n(t.date),1),e("p",V,n(t.content),1),e("div",$,[e("button",{onClick:h=>x(t),class:"text-blue-600"}," Edit ",8,B),e("button",{onClick:h=>_(t.id),class:"text-red-600"}," Delete ",8,D)])]))),128))]))}};export{J as default};
